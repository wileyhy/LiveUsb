#!/bin/bash -x
## Trying to write an 'echo()' function that will only print one line to xtrace whether xtrace is either on or off

#FUNCNEST=8
ii=0

function echo ()
{
  #local -; set -

  #[[ $# -eq 0 ]] && builtin echo

  if [[ -o xtrace ]]
  then
    printf 'xtrace on %d\n' $(( ii++ ))
    : "$@"
  else
    printf 'xtrace off %d\n' $(( ii++ ))
    echo "$@"
  fi
}

set -x

echo foo 

echo bar

set +x

echo baz

echo quux

